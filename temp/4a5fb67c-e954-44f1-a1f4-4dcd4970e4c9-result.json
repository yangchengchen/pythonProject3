{"name": "原霆科技后台管理", "status": "broken", "statusDetails": {"message": "TypeError: 'NoneType' object is not subscriptable", "trace": "self = <ddt.yuanting_test.Test_Yuanting object at 0x104b01670>\nlistcases = {'cases': [{'data': {'name': 'ycc000的出差申请', 'processDefinitionKey': 'trip_2000'}, 'method': 'post', 'name': '出差申请', 'u...'method': 'post', 'name': '车辆维修申请', 'url': 'oa/process/start'}], 'description': '原霆科技后台管理oa申请的用例', 'title': '原霆科技后台管理'}\n\n    @allure.story('申请OA')\n    @pytest.mark.parametrize('listcases', workflow()['workflow'])\n    def test_comm(self,listcases):\n        allure.dynamic.title(listcases['title'])\n        allure.dynamic.description(listcases['description'])\n        testcases = listcases['cases']\n        print(testcases)\n        for cases in testcases:\n            listcase = list(cases.values())\n            print(listcase)\n            url=listcase[3]\n            datas=listcase[2]\n            with allure.step(listcase[0]):\n>               ree=keys.post_test(url,datas)\n\nddt/yuanting_test.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nWebapi/keys.py:14: in post_test\n    header=login()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    def login():\n        url=test_url()\n        data = requests.post(url+'passport/login',data={'account': \"ycc000\", 'password': \"1111\"})\n        datas = data.json()\n>       datas = datas['data']['token']\nE       TypeError: 'NoneType' object is not subscriptable\n\nWebapi/keys.py:11: TypeError"}, "description": "原霆科技后台管理oa申请的用例", "steps": [{"name": "出差申请", "status": "broken", "statusDetails": {"message": "TypeError: 'NoneType' object is not subscriptable\n", "trace": "  File \"/Users/a00/PycharmProjects/pythonProject3/ddt/yuanting_test.py\", line 26, in test_comm\n    ree=keys.post_test(url,datas)\n  File \"/Users/a00/PycharmProjects/pythonProject3/Webapi/keys.py\", line 14, in post_test\n    header=login()\n  File \"/Users/a00/PycharmProjects/pythonProject3/Webapi/keys.py\", line 11, in login\n    datas = datas['data']['token']\n"}, "start": 1675311545124, "stop": 1675311547640}], "parameters": [{"name": "listcases", "value": "{'title': '原霆科技后台管理', 'description': '原霆科技后台管理oa申请的用例', 'cases': [{'name': '出差申请', 'method': 'post', 'data': {'name': 'ycc000的出差申请', 'processDefinitionKey': 'trip_2000'}, 'url': 'oa/process/start'}, {'name': '请假申请', 'method': 'post', 'data': {'name': 'ycc000的请假申请', 'processDefinitionKey': 'leave_1000'}, 'url': 'oa/process/start'}, {'name': '资中收文申请', 'method': 'post', 'data': {'name': 'ycc000的资中收文', 'processDefinitionKey': 'zzdoc_6000'}, 'url': 'oa/process/start'}, {'name': '资中用车申请', 'method': 'post', 'data': {'name': 'ycc000的资中用车', 'processDefinitionKey': 'use_car_zz_3001'}, 'url': 'oa/process/start'}, {'name': '用车申请', 'method': 'post', 'data': {'name': 'ycc000的用车', 'processDefinitionKey': 'use_car_3000'}, 'url': 'oa/process/start'}, {'name': '车辆维修申请', 'method': 'post', 'data': {'name': 'ycc000的车辆维修', 'processDefinitionKey': 'maintenance_4000'}, 'url': 'oa/process/start'}]}"}], "start": 1675311545124, "stop": 1675311547647, "uuid": "3ee869db-d4bb-416f-9fb8-17e8704a0ecd", "historyId": "05e1a9c6d79568ee17a7c0f41e6905ab", "testCaseId": "78cdb20a8f125f7b14364fa8276c6695", "fullName": "ddt.yuanting_test.Test_Yuanting#test_comm", "labels": [{"name": "story", "value": "申请OA"}, {"name": "parentSuite", "value": "ddt"}, {"name": "suite", "value": "yuanting_test"}, {"name": "subSuite", "value": "Test_Yuanting"}, {"name": "host", "value": "00demacbook-pro"}, {"name": "thread", "value": "70013-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "ddt.yuanting_test"}]}